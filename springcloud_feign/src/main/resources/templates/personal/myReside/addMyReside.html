<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui.form小例子</title>
    <script src="../js/jquery/jquery-1.9.1.js"  ></script>
    <script src="../js/layui/layui.all.js"></script>
    <link rel="stylesheet" href="../js/layui/css/layui.css">

</head>
<body>

<form id="rForm" class="layui-form" style="width: 400px;height: 400px" > <!-- 提示：如果你不想用form，你可以换成div等任何一个普通元素 -->
    <div class="layui-form-item">
        <label class="layui-form-label">姓名</label>
        <div class="layui-input-block">
            <input type="text" maxlength="7" id="surName" placeholder="请输入姓名" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">性别</label>
        <div class="layui-input-block">
            <input type="radio" name="sex" value="1" title="先生">
            <input type="radio" name="sex" value="0" title="女士">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">位置</label>
        <div class="layui-input-block">
            <input type="text" id="areaReside"    placeholder="请输入小区，大厦或者学校" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">详细地址</label>
        <div class="layui-input-block">
            <textarea maxlength="100" placeholder="请输入单元，门牌号" id="address" class="layui-textarea"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">手机号</label>
        <div class="layui-input-block">
            <input type="number" id="tel" placeholder="请输入您的手机号" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button type="button" class="layui-btn " lay-submit  lay-filter="*" id="rBtn" >立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>
</body>




<script>

$("#rBtn").click(function () {

    var sex = $('input:radio[name="sex"]:checked').val();
    var surName=$("#surName").val();
    var areaReside=$("#areaReside").val();
    var address=$("#address").val();
    var tel=$("#tel").val();
    var telRegxp = /^1([38]\d|5[0-35-9]|7[3678])\d{8}$/;



    if(surName.length==0||surName.length>7){
        alert('请填写正确姓名');
        return false;

    }
    if(!telRegxp.test(tel)){
        alert("手机号码不正确")
        return false;
    }



    $.ajax({
        url:'../myReside/addMyReside',
        type:'post',
        contentType:'application/json',
        data:JSON.stringify({
            'surName':surName,
            'sex':sex,
            'areaReside':areaReside,
            'address':address,
            'tel':tel
        }),
        dataType:'json',
        success:function () {
            initMyReside();
            layer.closeAll();

        }
    })

})
</script>
</html>